(this["webpackJsonpguitar-practice-track"]=this["webpackJsonpguitar-practice-track"]||[]).push([[0],{78:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a(0),r=a.n(o),c=a(10),i=a.n(c),s=a(51),l=a(128),d=a(129),b=(a(77),a(78),a(15)),u=a(126),j=a(131),m=a(127),p=a(54),O=a.n(p),f=a(116),x=a(130),g=a(132),h=a(119),v=a(133),y=a(118),k=a(120),P=a(121),w=a(122),C=a(3),N=a(27),S=a(33),I=Object(S.b)({name:"notesSlice",initialState:{list:["A","D","E"],bpm:45,minutes:1,metronome:!1},reducers:{add:function(e,t){var a=null===t||void 0===t?void 0:t.payload;a&&"string"===typeof a&&(-1===e.list.indexOf(a)&&e.list.push(t.payload))},remove:function(e,t){var a=null===t||void 0===t?void 0:t.payload;if(a){var n=e.list.indexOf(a);-1!==n&&e.list.splice(n,1)}},setBPM:function(e,t){var a=null===t||void 0===t?void 0:t.payload;a||(e.bpm=60),a>10&&a<=150&&(e.bpm=a)},setMinutes:function(e,t){var a=null===t||void 0===t?void 0:t.payload;a||(e.minutes=1),a>0&&a<=5&&(e.minutes=a)},setMetronome:function(e,t){e.metronome=t.payload}}}),D=I.actions,A=D.add,L=D.remove,M=D.setBPM,B=D.setMinutes,E=D.setMetronome,R=function(e){return e.notes},T=I.reducer,G=a(114),W=a(17),Y="hsla(217, 27%, 30%, 1)",U=Object(G.a)((function(e){return{sidebar:{transition:"opacity .5s",padding:e.spacing(2),backgroundColor:Object(W.a)(Y,.32)},sidebarLower:{marginTop:e.spacing(3)},fullDisabled:{opacity:.5},symbolInput:{backgroundColor:Object(W.d)(Y,.6),color:Object(W.a)(Y,.4)},symbolInputDisabled:{backgroundColor:Object(W.d)(Y,.2)},iconButton:{margin:e.spacing(0,3)},iconButtonDisabled:{opacity:.3},trashButton:{transition:"opacity .5s",margin:e.spacing(0,1,0,0),opacity:.5,"&:hover":{opacity:1}},symbolRow:{cursor:"pointer",display:"flex",alignItems:"center",border:"1px solid ".concat(Object(W.d)(Y,.1)),margin:e.spacing(1),minWidth:100,padding:e.spacing(1,2,1,0),borderRadius:6,"&:hover":{backgroundColor:Object(W.a)(Y,.38)}},symbolRowDisabled:{cursor:"auto"},selectedSymbolRow:{backgroundColor:Object(W.a)(Y,.45),"&:hover":{backgroundColor:Object(W.a)(Y,.5)}},slider:{maxWidth:"30rem",marginLeft:e.spacing(3)},sliderLabel:{whiteSpace:"nowrap"},buttonIcon:{color:Object(W.d)(Y,.6)}}}));function V(e){var t=e.disabled,a=U(),c=Object(N.b)(),i=Object(o.useState)(""),s=Object(b.a)(i,2),l=s[0],d=s[1],u=Object(N.c)(R),m=u.list,p=u.bpm,O=void 0===p?60:p,S=u.minutes,I=void 0===S?1:S,D=u.metronome,T=!!l;var G=r.a.useMemo((function(){return O}),[]),W=r.a.useMemo((function(){return I}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{square:!0,elevation:4,className:Object(C.a)(a.sidebar,t&&a.fullDisabled),children:[Object(n.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),c(A(l)),d("")},children:Object(n.jsxs)(j.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(x.a,{InputProps:{classes:{root:Object(C.a)(a.symbolInput,t&&a.symbolInputDisabled)}},disabled:t,id:"outlined-basic",variant:"outlined",onChange:function(e){var t;d(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},value:l,placeholder:"Add chord"}),Object(n.jsx)(g.a,{className:a.iconButton,classes:{disabled:a.iconButtonDisabled},disabled:!T,type:"submit",children:Object(n.jsx)(y.a,{color:"primary",fontSize:"large"})}),Object(n.jsx)(h.a,{color:t?"secondary":"primary",children:t?"Press stop to edit settings":"Add chords you'd like to practice. Hit start to begin practicing."})]})}),Object(n.jsx)(j.a,{mt:3,display:"flex",flexWrap:"wrap",children:m.map((function(e){return Object(n.jsxs)(j.a,{className:Object(C.a)(a.symbolRow,t&&a.symbolRowDisabled),children:[Object(n.jsx)(g.a,{disabled:t,className:Object(C.a)("trashButton",a.trashButton),onClick:function(t){t.stopPropagation(),c(L(e))},children:Object(n.jsx)(k.a,{color:"primary",fontSize:"small"})}),Object(n.jsx)(h.a,{color:"primary",children:e.toUpperCase()})]},e)}))})]}),Object(n.jsx)(f.a,{square:!0,elevation:4,className:Object(C.a)(a.sidebar,a.sidebarLower,t&&a.fullDisabled),children:Object(n.jsxs)(j.a,{display:"flex",flex:1,alignItems:"center",children:[Object(n.jsxs)(j.a,{display:"flex",flex:1,m:3,children:[Object(n.jsx)(h.a,{id:"bpm-slider",variant:"body1",className:a.sliderLabel,children:"Notes per minute:"}),Object(n.jsx)(v.a,{classes:{root:a.slider},onChangeCommitted:function(e,t){c(M(t))},defaultValue:G,"aria-labelledby":"bpm-slider",valueLabelDisplay:"auto",step:10,disabled:t,marks:!0,min:20,max:100})]}),Object(n.jsxs)(j.a,{display:"flex",flex:1,m:3,children:[Object(n.jsx)(h.a,{id:"minute-slider",variant:"body1",className:a.sliderLabel,children:"Practice length (minutes):"}),Object(n.jsx)(v.a,{classes:{root:a.slider},onChangeCommitted:function(e,t){c(B(t))},defaultValue:W,"aria-labelledby":"minute-slider",valueLabelDisplay:"auto",step:.5,disabled:t,marks:!0,min:.5,max:5})]}),Object(n.jsxs)(j.a,{m:3,display:"flex",alignItems:"center",children:[Object(n.jsx)(h.a,{variant:"body1",className:a.sliderLabel,children:"Metronome:"}),Object(n.jsx)(g.a,{onClick:function(e){c(E(!D))},children:D?Object(n.jsx)(P.a,{className:a.buttonIcon}):Object(n.jsx)(w.a,{className:a.buttonIcon})})]})]})})]})}var q,z=r.a.memo(V),F=a(19),J=a(57),H=Object(G.a)((function(e){return{scrollAreaWrapper:{position:"relative"},scrollArea:{display:"flex",overflow:"hidden",marginBottom:e.spacing(42)},songContainer:{position:"relative",display:"flex",flex:1,padding:e.spacing(3),left:-50},inActiveBox:{position:"absolute",backgroundColor:Object(W.a)(Y,.5),opacity:.5,top:0,bottom:0,left:200,right:0},note:{transition:"border .5s, color .5s",padding:e.spacing(3,0),width:150,marginLeft:50,marginRight:50,borderRadius:6,border:"3px solid transparent",flexShrink:0,flexGrow:0,color:Object(W.d)(Y,.3),backgroundColor:Object(W.a)(Y,.1)},currentNote:{border:"3px solid ".concat(Object(W.d)(Y,.5)),color:Object(W.d)(Y,.6)},countdown:{opacity:.5},dot:{transition:"background-color .5s",backgroundColor:Object(W.d)(Y,.2)},activeDot:{backgroundColor:Object(W.d)(Y,.6)}}})),$=a.p+"static/media/metronome.850b947b.wav";!function(e){e.PLAYING="playing",e.PAUSED="paused",e.STOPPED="stopped"}(q||(q={}));var K=Object(G.a)((function(e){return{note:{display:"flex",alignItems:"center",justifyContent:"center",transition:"border .5s, color .5s",padding:e.spacing(3,0),width:150,marginLeft:50,marginRight:50,borderRadius:6,border:"3px solid transparent",flexShrink:0,flexGrow:0,color:Object(W.d)(Y,.3),backgroundColor:Object(W.a)(Y,.1)},countdown:{opacity:.5}}}));function Q(e){var t=e.notesToPlay,a=K(),o=t.map((function(e,t){var o="".concat(e,"-").concat(t);return Object(n.jsx)("div",{className:Object(C.a)(a.note,t<=3&&a.countdown),children:Object(n.jsx)(h.a,{color:"inherit",variant:"h1",children:e.toUpperCase()})},o)}));return Object(n.jsx)(n.Fragment,{children:o})}var X=r.a.memo(Q);function Z(e,t){if(console.log("setup"),!(null===e||void 0===e?void 0:e.length)||!t)return[];var a=e.length,n=Math.floor(t/a),o=t%a,r=e.map((function(e,t){return new Array(0===t?n+o:n).fill(e)})).flat();return function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}(r),["1","2","3","4"].concat(Object(F.a)(r))}function _(e){var t=e.playerStatus,a=H(),c=Object(N.c)(R),i=c.list,s=c.minutes,l=c.bpm,d=c.metronome,u=r.a.useRef(null),j=s*l,m=Object(o.useState)(0),p=Object(b.a)(m,2),O=p[0],x=p[1],g=Object(J.a)($,{volume:1}),h=Object(b.a)(g,1)[0],v=r.a.useMemo((function(){return Z(i,j)}),[i,j]),y=O>=v.length-1,k=!y&&t===q.PLAYING,P=50*O*2+150*O;return function(e,t){var a=r.a.useRef(null);r.a.useEffect((function(){a.current=e}),[e]),r.a.useEffect((function(){if(null!==t){var e=setInterval((function(){var e=a.current;"function"===typeof e&&e()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){l&&l<500&&t===q.PLAYING&&!y&&(console.log("songContainerRef.current",u.current),u.current&&(console.log("scrroll",{left:P}),u.current.scrollTo({left:P,behavior:"smooth"})),d&&setTimeout((function(){h()}),100),x((function(e){return e+1})))}),k?6e4/l:null),console.log("noteTray",{notesToPlay:v.length}),Object(n.jsxs)("div",{className:a.scrollAreaWrapper,children:[Object(n.jsx)(f.a,{elevation:4,className:a.scrollArea,ref:u,children:Object(n.jsx)("div",{className:a.songContainer,children:Object(n.jsx)(X,{notesToPlay:v})})}),Object(n.jsx)("div",{className:a.inActiveBox})]})}var ee=r.a.memo(_),te=a(123),ae=a(124),ne=a(125),oe=Object(G.a)((function(e){return{button:{transition:"border .2s, background-color .2s",border:"3px solid ".concat(Object(W.d)(Y,.2)),backgroundColor:Object(W.d)(Y,.1),"&:hover":{border:"3px solid ".concat(Object(W.d)(Y,.3)),backgroundColor:Object(W.d)(Y,.15)}},buttonIcon:{margin:e.spacing(1),color:Object(W.d)(Y,.6),fontSize:"3rem"}}}));function re(e){var t=e.setPlayerStatus,a=e.playerStatus,o=oe();return Object(n.jsxs)(j.a,{display:"flex",flex:1,ml:3,alignItems:"center",children:[Object(n.jsx)(j.a,{m:3,children:Object(n.jsx)(g.a,{onClick:a===q.PLAYING?function(e){t(q.PAUSED)}:function(e){t(q.PLAYING)},className:o.button,children:a===q.PLAYING?Object(n.jsx)(te.a,{className:o.buttonIcon}):Object(n.jsx)(ae.a,{className:o.buttonIcon})})}),Object(n.jsx)(j.a,{m:3,children:a===q.PAUSED&&Object(n.jsx)(g.a,{onClick:function(e){t(q.STOPPED)},className:o.button,children:Object(n.jsx)(ne.a,{className:o.buttonIcon})})})]})}var ce=r.a.memo(re);var ie=function(){r.a.useEffect((function(){"wakeLock"in navigator&&navigator.wakeLock.request("screen"),O.a.polyfill()}),[]);var e=Object(o.useState)(q.STOPPED),t=Object(b.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)(u.a,{maxWidth:"lg",children:[Object(n.jsx)(j.a,{display:"flex",flex:1,mt:3,mb:3,children:Object(n.jsxs)(m.a,{container:!0,spacing:3,children:[Object(n.jsx)(m.a,{item:!0,xs:12,children:Object(n.jsx)(z,{disabled:a!==q.STOPPED})}),Object(n.jsx)(m.a,{item:!0,xs:12,children:Object(n.jsx)(ce,{playerStatus:a,setPlayerStatus:c})}),Object(n.jsx)(m.a,{item:!0,xs:12,children:a!==q.STOPPED&&Object(n.jsx)(ee,{playerStatus:a})})]})}),Object(n.jsx)(j.a,{display:"hidden",children:"Version: 1.0.03"})]})},se=a(47),le=a(58),de=a.n(le),be=a(16),ue=Object(be.c)({notes:T}),je={key:"root",storage:de.a},me=Object(se.a)(je,ue),pe=Object(S.a)({reducer:me}),Oe=Object(se.b)(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(44),xe=a(59),ge=Object(xe.a)({palette:{primary:{main:Object(W.d)(Y,.6)},secondary:{main:Object(W.d)(Y,.3)},error:{main:fe.a.A400},background:{default:Object(W.a)(Y,.2)},text:{primary:Object(W.d)(Y,.5)}},overrides:{MuiPaper:{root:{backgroundColor:Y}}}});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsxs)(l.a,{theme:ge,children:[Object(n.jsx)(d.a,{}),Object(n.jsx)(N.a,{store:pe,children:Object(n.jsx)(s.a,{loading:null,persistor:Oe,children:Object(n.jsx)(ie,{})})})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[85,1,2]]]);
//# sourceMappingURL=main.f4f47df9.chunk.js.map